{% extends 'base.html' %}
{% load static %}

{% block title %}
    <title>Forums</title>
{% endblock %}

{% block css %}
    <link rel="stylesheet" href="{% static 'styles/forum_entry.css' %}">
{% endblock %}

{% block content %}
    <div class="forum-entry" id="entry-data">
        <div id="entry-container" class="entry-container"> 
            <div id="entry-content" class="entry-content">
                <div id="entry-data" class="entry-data">
                    <div id="entry-title" class="entry-title">
                        {{ forum.title }}
                    </div>
                    <div id="entry-body" class="entry-body"> 
                        {{forum.body}}
                    </div>
                    <div id="entry-author-views" class="entry-author-views">
                        <div id="entry-author-time" class="entry-author-time">
                            <p> Subido por {{ forum.user }}, {{ forum.created_at }} </p>
                        </div>
                        <div id="entry-views" class="entry-views">
                            <p> Views: 15 </p>
                        </div>
                    </div>
                    <div id="entry-answers-votes" class="entry-answers-votes">
                        <div id="entry-answers" class="entry-answers">
                            <p> Respuestas: 10 </p>
                        </div>
                        <div id="entry-votes" class="entry-votes">
                            <p> Votos: +5 </p>
                        </div>
                    </div>    
                </div>
                <div id="entry-tags" class="tags">
                    <div class="tags"> Diseño y análisis de algoritmos </div>
                    <div class="tags"> Salud mental </div>
                    <div class="tags"> Paro </div>
                </div>
                <div id="entry-buttons" class="entry-buttons">
                    <button id="downvote" class="downvote"> Downvote </button>
                    <span id="votes-counter" class="votes-counter"> +5 </span>
                    <button id="upvote" class="upvote"> Upvote </button>
                    <button id="answer-button" class="answer-button"> Responder </button>
                </div>
            </div>
        </div>

        <div id="sorter-answers" class="sorter-answers">
            <p id="num-answers"></p>
            <button id="sorter" class="sorter"> Ordenar Por </button>
        </div>
        <div id="answer-container" class="answer-container"></div>    
    </div>

    <form action="{% url 'forum' forum.id %}" method="POST" class="answer-form">
        {% csrf_token %}
        <textarea name="message" type="text" placeholder="Escribe tu respuesta aqui"></textarea>
        <button class="answer-submit"> Enviar </button>
    </form>

    <div id= "all-answer" class="all-answer">
    {% for msg in messages %}
        <div class="answer">
            <div class="answer-content">
                <div class="answer-body"> 
                    {{ msg.message }} 
                    </div>
            </div>
            <div class="answer-data">
                <div class="answer-author-time"> 
                    Respondido por {{ msg.user }}, {{ msg.created_at }}
                </div>
            </div>
        </div>
    {% endfor %}
    </div>
    
{% endblock %}

{% block js %}
    <script src="{% static 'js/forum_entry.js' %}"></script>
{% endblock %}


